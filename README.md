# CloudMate - 优雅的文件共享
## README文档由AI撰写
[中文](#中文) | [English](./README_EN.md)

一个采用**拟态设计 (Neumorphism) + iOS流畅风格**的超级轻量化、现代化局域网文件共享应用。以其极简的美学和令人愉悦的交互，让文件共享变得优雅而高效。

## 🎨 设计特点

### 拟态风格 (Neumorphism)
- **软阴影设计** - 柔和的内外阴影营造出浮凸/凹陷的真实感
- **光影交互** - 精细的高光和阴影变化定义UI元素
- **一致性配色** - 统一的柔和色调，视觉舒适
- **平滑过渡** - 所有交互都有流畅的0.3-0.4秒过渡

### iOS 风格动画
- **立体感** - 悬停时元素向上浮动，呈现3D效果
- **涟漪效果** - 按钮点击时产生优雅的水波纹动画
- **优先级动画** - 不同元素的出现有不同的延迟和时序
- **高性能过渡** - 使用 `cubic-bezier(0.34, 1.56, 0.64, 1)` 创造弹性感

## ✨ 功能特性

### 核心功能
- ✨ **文件上传** - 支持拖放和批量上传，实时进度条
- 📥 **文件下载** - 一键快速下载
- 🗑️ **文件删除** - 安全删除文件
- 📋 **智能搜索** - 实时过滤文件

### 增强功能  
- 📊 **存储统计** - 显示文件数量和占用空间
- 👁️ **文件预览** - 预览图片和文本文件
- 🔗 **分享链接** - 生成可复制的下载链接
- 📱 **二维码分享** - 扫码即可访问下载
- 🌐 **自动IP检测** - 一键复制访问地址
- 📱 **完美响应式** - 手机、平板、电脑完美适配
- 🌍 **中英文切换** - 点击右上角按钮轻松切换语言

## 🚀 快速开始

### 1. 安装依赖
```bash
npm install
```

### 2. 启动服务
```bash
npm start
```

启动后控制台会显示：
```
========================================
  局域网文件共享服务启动成功！
========================================
  访问地址: http://192.168.x.x:3000
  本地访问: http://localhost:3000
========================================
```

### 3. 访问应用

- **本地访问**：在浏览器中打开 `http://localhost:3000`
- **局域网访问**：使用自动显示的IP地址在同一网络的其他设备访问
- **多语言支持**：点击页面右上角的"🌐 English"或"🌐 中文"可切换语言

## 🌍 多语言支持

CloudMate 内置中文和英文两种语言，用户可以：

1. **自动检测**：首次访问时根据浏览器语言自动设置
2. **手动切换**：点击页面右上角的语言切换按钮
3. **记住选择**：用户的语言选择会本地保存，下次访问时自动应用

支持翻译的内容：
- ✅ 页面UI文本
- ✅ 按钮标签
- ✅ 提示信息
- ✅ 搜索框占位符
- ✅ 模态框标题

## 使用方法

### 上传文件

1. 点击上传框，选择文件
2. 或直接将文件拖放到上传框
3. 可以同时上传多个文件
4. 上传进度条实时显示上传进度

### 搜索文件

1. 在搜索框中输入文件名关键字
2. 文件列表会实时过滤并显示匹配结果
3. 清空搜索框可显示所有文件

### 预览文件

1. 对于支持的文件类型（图片、文本），点击「预览」按钮
2. 图片会在模态框中显示
3. 文本文件显示前1000字符的预览

支持的预览格式：
- **图片**：JPG、JPEG、PNG、GIF、WebP
- **文本**：TXT、MD、JSON、XML、CSV

### 下载文件

1. 在文件列表中找到想要下载的文件
2. 点击「下载」按钮即可下载

### 分享文件

1. 点击「分享」按钮
2. 会显示文件的下载链接和二维码
3. 可以复制链接发送给他人
4. 他人可以扫描二维码直接下载

### 删除文件

1. 在文件列表中找到想要删除的文件
2. 点击「删除」按钮
3. 确认后文件即被删除

## 项目结构

```
CloudMate/
├── package.json          # 项目配置和依赖
├── server.js             # Node.js后端服务（含文件头注释）
├── LICENSE               # MIT许可证
├── .gitignore            # Git忽略规则
├── README.md             # 中文文档（本文件）
├── README_EN.md          # 英文文档
├── CONTRIBUTING.md       # 贡献指南
└── public/               # 前端文件目录
    ├── index.html        # 主页面（支持国际化属性）
    ├── style.css         # 样式文件（包含语言按钮样式）
    ├── script.js         # 前端脚本（含i18n集成）
    ├── i18n.js           # 国际化配置和函数
    └── lib/
        ├── qrcode.js     # 二维码库
        └── html2pdf.js   # PDF导出库
└── uploads/              # 文件上传存储目录（自动创建）
```

## 开源说明

### 许可证
本项目采用 **MIT 许可证** 开源。

### 如何贡献
我们欢迎所有形式的贡献！详见 [CONTRIBUTING.md](./CONTRIBUTING.md)

## 🎯 拟态设计详解

### 什么是拟态设计 (Neumorphism)?

拟态设计是一种现代化的UI设计趋势，结合了极简主义和物理世界的真实感。CloudMate通过以下方案实现：

```css
/* 柔和的内外阴影 */
box-shadow: 
  inset 0 1px 2px rgba(255, 255, 255, 0.8),  /* 内高光 */
  inset 0 -1px 2px rgba(0, 0, 0, 0.04),      /* 内阴影 */
  0 4px 16px rgba(0, 0, 0, 0.08);            /* 外阴影 */
```

### iOS风格交互特性

1. **浮升效果** - 悬停时元素上升4px，给予按压的反馈
2. **弹性过渡** - 使用 `cubic-bezier(0.34, 1.56, 0.64, 1)` 实现自然的弹跳感
3. **水波纹动画** - 按钮点击时产生扩散的光晕效果
4. **滤镜模糊** - 模态框背景使用 `backdrop-filter: blur(4px)` 增强层级感
5. **渐进性动画** - 元素出现时有0.1-0.3秒的延迟，创造编舞感

## 🛠️ 技术栈

- **后端**：Node.js + Express.js
- **文件处理**：Multer
- **前端**：HTML5 + CSS3 + Vanilla JavaScript（零依赖）
- **设计风格**：Neumorphism + iOS
- **国际化**：Native JavaScript（无额外库）
- **二维码生成**：QRCode.js
- **跨域支持**：CORS

## 📱 浏览器兼容性

- ✅ Chrome/Chromium 60+
- ✅ Firefox 55+
- ✅ Safari 11+
- ✅ Edge 79+
- ✅ iOS Safari 11+
- ✅ Android Chrome 60+

**推荐：** 使用最新版本的现代浏览器以获得最佳的拟态动画效果

## API 文档

### 获取文件列表
```
GET /api/files
```

### 上传文件
```
POST /api/upload
Content-Type: multipart/form-data
Body: file (binary)
```

### 下载文件
```
GET /api/download/:filename
```

### 删除文件
```
DELETE /api/files/:filename
```

### 获取服务器信息
```
GET /api/server-info
```

## 安全建议

- ⚠️ 此应用仅适合在信任的局域网内使用
- 建议在内网防火墙保护下使用
- 定期清理 `uploads` 目录，防止文件堆积
- 不建议在公网上直接暴露此服务
- 生产环境建议使用 nginx 等反向代理配合 HTTPS

## 故障排除

### 无法访问服务
1. 确保服务正在运行
2. 检查防火墙是否阻止了3000端口
3. 确认两台设备在同一WIFI网络上

### 上传失败
1. 检查 `uploads` 目录是否存在及有写入权限
2. 确认上传的文件大小不超过服务器限制

### 中文文件名乱码
- 系统会自动处理中文文件名，确保跨平台兼容

### 语言切换不生效
- 检查浏览器是否禁用了 JavaScript
- 检查浏览器控制台是否有错误信息
- 尝试清除浏览器缓存并重新加载

## 开发和调试

启动应用后，控制台会输出详细的日志信息，帮助调试问题。

## 许可证

MIT - 详见 [LICENSE](./LICENSE) 文件

## 发展规划

### v1.1（计划中）
- [ ] 文件夹支持
- [ ] 下载历史记录
- [ ] 文件标签功能
- [ ] 实时通知

### v2.0（计划中）
- [ ] 用户认证
- [ ] 权限管理
- [ ] 文件版本控制
- [ ] 更多语言支持（日文、韩文等）

## 常见问题

**Q: 可以修改端口吗？**
A: 可以。在 `server.js` 中修改 `const PORT = 3000;` 为其他端口。

**Q: 文件存储在哪里？**
A: 上传的文件存储在 `uploads` 目录中，与 `server.js` 同级。

**Q: 如何限制上传文件大小？**
A: 在 `server.js` 中的 multer 配置添加 `limits: { fileSize: 100 * 1024 * 1024 }` 来限制为100MB。

**Q: 可以作为Windows/Mac服务运行吗？**
A: 可以使用 `pm2` 或 `nssm` 将其配置为系统服务。

**Q: 预览功能支持哪些文件？**
A: 支持预览图片（JPG/PNG/GIF/WebP）和文本文件（TXT/MD/JSON/XML/CSV）。

**Q: 如何在手机上访问？**
A: 
- 确保手机和电脑连接到同一WiFi网络
- 在手机浏览器中输入电脑显示的访问地址（如 http://192.168.1.100:3000）
- 或扫描文件分享页面显示的二维码

**Q: 为什么无法访问？**
A:
- 确认服务器正在运行（终端窗口未关闭）
- 检查防火墙是否阻止了3000端口
- 确认两台设备在同一网段
- 尝试用电脑IP而不是localhost访问

**Q: 网页关闭后文件还能下载吗？**
A: 可以，只要服务器程序还在运行，文件就会保存在磁盘上，其他设备可以随时访问和下载。

**Q: 支持哪些语言？**
A: 目前内置支持中文和英文，用户可以在页面右上角轻松切换。

## 🤝 贡献者

欢迎贡献代码、报告Bug或提出建议！

## 📧 联系方式

- 报告问题：[GitHub Issues](https://github.com/yourusername/CloudMate/issues)
- 功能讨论：[GitHub Discussions](https://github.com/yourusername/CloudMate/discussions)

---

**享受优雅地分享文件吧！ 🎉**

### 3. 访问应用

- **本地访问**：在浏览器中打开 `http://localhost:3000`
- **局域网访问**：使用自动显示的IP地址在同一网络的其他设备访问
- **扫码访问**：使用分享功能生成的二维码直接打开

## 使用方法

### 上传文件

1. 点击上传框，选择文件
2. 或直接将文件拖放到上传框
3. 可以同时上传多个文件
4. 上传进度条实时显示上传进度

### 搜索文件

1. 在搜索框中输入文件名关键字
2. 文件列表会实时过滤并显示匹配结果
3. 清空搜索框可显示所有文件

### 预览文件

1. 对于支持的文件类型（图片、文本），点击「预览」按钮
2. 图片会在模态框中显示
3. 文本文件显示前1000字符的预览

支持的预览格式：
- **图片**：JPG、JPEG、PNG、GIF、WebP
- **文本**：TXT、MD、JSON、XML、CSV

### 下载文件

1. 在文件列表中找到想要下载的文件
2. 点击「下载」按钮即可下载

### 分享文件

1. 点击「分享」按钮
2. 会显示文件的下载链接和二维码
3. 可以复制链接发送给他人
4. 他人可以扫描二维码直接下载

### 删除文件

1. 在文件列表中找到想要删除的文件
2. 点击「删除」按钮
3. 确认后文件即被删除

## 项目结构

```
├── server.js           # 主服务器文件
├── package.json        # 项目配置和依赖
├── public/             # 前端文件目录
│   ├── index.html      # 主页面
│   ├── style.css       # 样式文件
│   └── script.js       # 前端脚本
├── uploads/            # 文件上传存储目录（自动创建）
└── README.md           # 本文件
```

## 🎯 拟态设计详解

### 什么是拟态设计 (Neumorphism)?

拟态设计是一种现代化的UI设计趋势，结合了极简主义和物理世界的真实感。CloudMate通过以下方案实现：

```css
/* 柔和的内外阴影 */
box-shadow: 
  inset 0 1px 2px rgba(255, 255, 255, 0.8),  /* 内高光 */
  inset 0 -1px 2px rgba(0, 0, 0, 0.04),      /* 内阴影 */
  0 4px 16px rgba(0, 0, 0, 0.08);            /* 外阴影 */
```

### iOS风格交互特性

1. **浮升效果** - 悬停时元素上升4px，给予按压的反馈
2. **弹性过渡** - 使用 `cubic-bezier(0.34, 1.56, 0.64, 1)` 实现自然的弹跳感
3. **水波纹动画** - 按钮点击时产生扩散的光晕效果
4. **滤镜模糊** - 模态框背景使用 `backdrop-filter: blur(4px)` 增强层级感
5. **渐进性动画** - 元素出现时有0.1-0.3秒的延迟，创造编舞感

## 🛠️ 技术栈

- **后端**：Node.js + Express.js
- **文件处理**：Multer
- **前端**：HTML5 + CSS3 + Vanilla JavaScript（零依赖）
- **设计风格**：Neumorphism + iOS
- **二维码生成**：QRCode.js
- **跨域支持**：CORS

## 📱 浏览器兼容性

- ✅ Chrome/Chromium 60+
- ✅ Firefox 55+
- ✅ Safari 11+
- ✅ Edge 79+
- ✅ iOS Safari 11+
- ✅ Android Chrome 60+

**推荐：** 使用最新版本的现代浏览器以获得最佳的拟态动画效果

## API 文档

### 获取文件列表
```
GET /api/files
```

### 上传文件
```
POST /api/upload
Content-Type: multipart/form-data
Body: file (binary)
```

### 下载文件
```
GET /api/download/:filename
```

### 删除文件
```
DELETE /api/files/:filename
```

### 获取服务器信息
```
GET /api/server-info
```

## 安全建议

- ⚠️ 此应用仅适合在信任的局域网内使用
- 建议在内网防火墙保护下使用
- 定期清理 `uploads` 目录，防止文件堆积
- 不建议在公网上直接暴露此服务

## 故障排除

### 无法访问服务
1. 确保服务正在运行
2. 检查防火墙是否阻止了3000端口
3. 确认两台设备在同一WIFI网络上

### 上传失败
1. 检查 `uploads` 目录是否存在及有写入权限
2. 确认上传的文件大小不超过服务器限制

### 中文文件名乱码
- 系统会自动处理中文文件名，确保跨平台兼容

## 开发和调试

启动应用后，控制台会输出详细的日志信息，帮助调试问题。

## 许可证

ISC

## 常见问题

**Q: 可以修改端口吗？**
A: 可以。在 `server.js` 中修改 `const PORT = 3000;` 为其他端口。

**Q: 文件存储在哪里？**
A: 上传的文件存储在 `uploads` 目录中，与 `server.js` 同级。

**Q: 如何限制上传文件大小？**
A: 在 `server.js` 中的 multer 配置添加 `limits: { fileSize: 100 * 1024 * 1024 }` 来限制为100MB。

**Q: 可以作为Windows服务运行吗？**
A: 可以使用 `pm2` 或 `nssm` 将其配置为Windows服务。

**Q: 预览功能支持哪些文件？**
A: 支持预览图片（JPG/PNG/GIF/WebP）和文本文件（TXT/MD/JSON/XML/CSV）。

**Q: 如何在手机上访问？**
A: 
- 确保手机和电脑连接到同一WiFi网络
- 在手机浏览器中输入电脑显示的访问地址（如 http://192.168.1.100:3000）
- 或扫描文件分享页面显示的二维码

**Q: 为什么无法访问？**
A:
- 确认服务器正在运行（终端窗口未关闭）
- 检查防火墙是否阻止了3000端口
- 确认两台设备在同一网段
- 尝试用电脑IP而不是localhost访问

**Q: 网页关闭后文件还能下载吗？**
A: 可以，只要服务器程序还在运行，文件就会保存在磁盘上，其他设备可以随时访问和下载。
